{% if product.variants.size > 1 or product.options.size > 1 %}
  <script type="text/javascript">
    // <![CDATA[  
      $(function() {    
        $product = $('#product-' + {{ product.id }});

        if($('.single-option-selector', $product).length == 0) {
          new Shopify.OptionSelectors("product-select-{{ product.id }}", { product: {{ product | json }}, onVariantSelected: RG.productPage.selectCallback });
          {% if product.available and product.options.size > 1 %}
            Shopify.linkOptionSelectors({{ product | json }});
          {% endif %}
        };

        $(document).on('mouseover', '.single-option-selector', function() {
          $('body').attr('data-select-position', $(this).attr('data-position'));
        });

      });
    // ]]>
  </script>
{% else %}
<script type="text/javascript">
  // <![CDATA[  
    $(function() {    
      $product = $('#product-' + {{ product.id }});
    });
  // ]]>
</script>
{% endif %}