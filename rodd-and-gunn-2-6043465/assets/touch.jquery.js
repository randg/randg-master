/*
Zepto Touch events converted for jquery
*/
;(function(e){function u(e){return"tagName"in e?e:e.parentNode}function a(e,t,n,r){var i=Math.abs(e-t),s=Math.abs(n-r);return i>=s?e-t>0?"Left":"Right":n-r>0?"Up":"Down"}function f(){o=null;if(t.last){t.el.trigger("longTap");t={}}}function l(){if(o)clearTimeout(o);o=null}function c(){if(n)clearTimeout(n);if(r)clearTimeout(r);if(i)clearTimeout(i);if(o)clearTimeout(o);n=r=i=o=null;t={}}var t={},n,r,i,s=750,o;e(document).ready(function(){var h,p;e(document.body).bind("touchstart",function(r){h=Date.now();p=h-(t.last||h);t.el=e(u(r.originalEvent.touches[0].target));n&&clearTimeout(n);t.x1=r.originalEvent.touches[0].pageX;t.y1=r.originalEvent.touches[0].pageY;if(p>0&&p<=250)t.isDoubleTap=true;t.last=h;o=setTimeout(f,s)}).bind("touchmove",function(e){l();t.x2=e.originalEvent.touches[0].pageX;t.y2=e.originalEvent.touches[0].pageY}).bind("touchend",function(s){l();if(t.x2&&Math.abs(t.x1-t.x2)>30||t.y2&&Math.abs(t.y1-t.y2)>30)i=setTimeout(function(){t.el.trigger("swipe");t.el.trigger("swipe"+a(t.x1,t.x2,t.y1,t.y2));t={}},0);else if("last"in t)r=setTimeout(function(){var r=e.Event("tap");r.cancelTouch=c;t.el.trigger(r);if(t.isDoubleTap){t.el.trigger("doubleTap");t={}}else{n=setTimeout(function(){n=null;t.el.trigger("singleTap");t={}},250)}},0)}).bind("touchcancel",c);e(window).bind("scroll",c)});["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.bind(t,e)}})})(jQuery);
